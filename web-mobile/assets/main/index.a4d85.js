window.__require=function t(e,n,i){function o(c,r){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var f=n[c]={exports:{}};e[c][0].call(f.exports,function(t){return o(e[c][1][t]||t)},f,f.exports,t,e,n,i)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({Model:[function(t,e){"use strict";function n(t){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var i=e[n].split("=");if(i[0]==t)return i[1]}return""}cc._RF.push(e,"066b6OssvtByIddq1GP54g4","Model"),e.exports={signner_name:[],signner_picture:[],signner_id:[],Signner_js:null,Signer_items:[],WhitchBlock:null,liffstate:"",Local_ID:"",WebSocket_NumberOfSign_Host:function(){var e=new WebSocket("wss://"+i.local_ID+"/ws/v1/host/signwall?activity_id="+i.activity_id);e.onopen=function(){console.log(" WebSocket_NumberOfSign_Host \u901a\u9053\u958b\u555f")},e.onmessage=function(e){console.log("response text msg: "+e.data);var n=t("Model"),i=JSON.parse(e.data);console.log("\u5df2\u7c3d\u5230\u73a9\u5bb6: ",i.message);for(var o=0;o<i.SignStaffs.length;o++)0==n.signner_id.includes(i.SignStaffs[o].id)&&(n.signner_id[o]=i.SignStaffs[o].id,n.signner_name[o]=i.SignStaffs[o].name,n.signner_picture[o]=i.SignStaffs[o].avatar,n.Signner_js.SpawnWinner(),console.log("\u5df2\u7c3d\u5230\u73a9\u5bb6\u59d3\u540d[] : "+n.signner_name[o]),console.log("\u5df2\u7c3d\u5230\u73a9\u5bb6\u982d\u50cf[] : "+n.signner_picture[o]))},e.onerror=function(){console.log(" WebSocket_NumberOfSign \u9023\u7dda\u932f\u8aa4")},e.onclose=function(){console.log(" WebSocket_NumberOfSign \u901a\u9053\u95dc\u9589"),i.WebSocket_NumberOfSign_Host()}}};var i=t("Model");i.activity_id=n("activity_id"),i.game_id=n("game_id"),i.liffstate=n("liff.state"),i.identify_id=n("identify"),function(){if(""!=i.activity_id&&""!=i.game_id||(i.liffstate.length>13&&(i.liffstate=i.liffstate.substr(17,i.liffstate.length)),console.log("LiffState"+i.liffstate)),i.liffstate.includes("%26game_id%3D")){var t=i.liffstate.split("%26game_id%3D");i.activity_id=t[0],console.log("LiffState.activity_id ="+i.activity_id),2==t.length&&(t=t[1].split("#mst_challenge"),i.game_id=t[0],console.log("LiffState.game_id ="+i.game_id))}}(),cc._RF.pop()},{Model:"Model"}],ShowSignner:[function(t,e){"use strict";cc._RF.push(e,"b7450lebqJEnoZcVILO9KpZ","ShowSignner");var n=t("Signner"),i=t("Model");cc.Class({extends:cc.Component,properties:{items:{default:null,type:cc.Prefab},bar:{default:null,type:cc.Node},items_parent:{default:null,type:cc.Node}},onLoad:function(){i.local_ID=(window.location.host,"api.hilives.net"),i.Signner_js=this,i.WebSocket_NumberOfSign_Host(),this.itemlist=[],this.indexcount=0},start:function(){},SpawnWinner:function(){this.indexcount++;var t=cc.instantiate(this.items);t.parent=this.items_parent;var e=t.getComponent(n);this.itemlist.push(e),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)},AddNew:function(){var t=Math.floor(20*Math.random())+1;console.log(t),0==i.signner_id.includes(t)&&i.signner_id.push(t),this.SpawnWinner()},update:function(){}}),cc._RF.pop()},{Model:"Model",Signner:"Signner"}],Signner:[function(t,e){"use strict";cc._RF.push(e,"f26adAmHgBE17GvhrR2SV8Y","Signner");var n=t("Model");cc.Class({extends:cc.Component,properties:{MoveObject:{default:null,type:cc.Node},playerName:{default:null,type:cc.Label},playerAvatar:{default:null,type:cc.Sprite}},updateInfo:function(t){this.playerName.string=n.signner_name[t],this.playerAvatar.spriteFrames=n.signner_picture[t],cc.assetManager.loadRemote(n.signner_picture[t],{ext:".jpg"},function(e,i){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(i);n.Signner_js.itemlist[t].playerAvatar.spriteFrame=o}})},onLoad:function(){this.items_parent=cc.find("\u756b\u5e03/\u5df2\u7c3d\u5230\u6b04/view/content"),this.WhitchBlock=this.items_parent.getChildrenCount()%3,console.log("\u7b2c\u5e7e\u683c"+this.WhitchBlock)},start:function(){1==this.WhitchBlock?(this.MoveObject.setPosition(-610,1150),this.node.getComponent(sp.Skeleton).setAnimation(0,"down",!1),cc.tween(this.MoveObject).to(.23,{position:cc.v2(0,1150)}).to(.3,{scale:1.2}).to(.3,{scale:1}).to(.82,{position:cc.v2(0,0)}).start()):2==this.WhitchBlock?(this.MoveObject.setPosition(-610,571),this.node.getComponent(sp.Skeleton).setAnimation(0,"middle",!1),cc.tween(this.MoveObject).to(.23,{position:cc.v2(0,571)}).to(.3,{scale:1.2}).to(.3,{scale:1}).to(.53,{position:cc.v2(0,0)}).start()):0==this.WhitchBlock&&(this.MoveObject.setPosition(-610,0),this.node.getComponent(sp.Skeleton).setAnimation(0,"up",!1),cc.tween(this.MoveObject).to(.23,{position:cc.v2(0,0)}).to(.3,{scale:1.2}).to(.3,{scale:1}).start())},update:function(){}}),cc._RF.pop()},{Model:"Model"}]},{},["Model","ShowSignner","Signner"]);